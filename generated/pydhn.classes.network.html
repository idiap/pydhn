

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>network &mdash; PyDHN 0.1.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=360bc84d"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="results" href="pydhn.classes.results.html" />
    <link rel="prev" title="abstract_network" href="pydhn.classes.abstract_network.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PyDHN
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Install PyDHN:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/network.html">The Network class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/fluids.html">Fluids</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/soil.html">Soils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/loops.html">Loops</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="pydhn.html">pydhn</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pydhn.citysim.html">citysim</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="pydhn.classes.html">classes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pydhn.classes.abstract_network.html">abstract_network</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydhn.classes.network.Network"><code class="docutils literal notranslate"><span class="pre">Network</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pydhn.classes.results.html">results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.components.html">components</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.controllers.html">controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.default_values.html">default_values</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.fluids.html">fluids</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.networks.html">networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.plotting.html">plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.soils.html">soils</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.solving.html">solving</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydhn.utilities.html">utilities</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyDHN</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="pydhn.html">pydhn</a></li>
          <li class="breadcrumb-item"><a href="pydhn.classes.html">classes</a></li>
      <li class="breadcrumb-item active">network</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/pydhn.classes.network.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pydhn.classes.network">
<span id="network"></span><h1>network<a class="headerlink" href="#module-pydhn.classes.network" title="Link to this heading"></a></h1>
<p>Base class for networks</p>
<dl class="py class">
<dt class="sig sig-object py" id="pydhn.classes.network.Network">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Network</span></span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pydhn.classes.abstract_network.html#pydhn.classes.abstract_network.AbstractNetwork" title="pydhn.classes.abstract_network.AbstractNetwork"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractNetwork</span></code></a></p>
<p>Main class for district heating networks. The underlying structure of the
network is a Networkx graph of which edges are different network elements,
such as pipes, consumers and producers. The graph is directed and the
directions of edges set the reference frame: for example, a negative mass
flow indicates that the fluid is flowing in the opposite direction with
respect to the edge. Multigraphs are not supported.</p>
<p>The elements in the edges are represented by objects called components,
which contain the attributes of the edge and the element-specific functions
used in simulations.</p>
<p>The graph underlying a Network object must be connected and have nodes of
total degree 2 or 3. Nodes with higher total degree might still work, but
not enough testing has been done on this front. The graph is also expected
to have a “sandwich” structure, with a supply and a return line containing
only branch components and connected only by leaf components. As of now,
one of these leaf components has to be the “main” component, where a
setpoint pressure difference is enforced. A simple example would look like
this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1----&gt;2----&gt;3----&gt;4
^     |     |     |
|     |     |     |
M    S1    S2    S3
|     |     |     |
|     v     v     v
8&lt;----7&lt;----6&lt;----5
</pre></div>
</div>
<p>Here, nodes 1-4 are in the supply line, while nodes 5-8 are in the return
line. The horizontal edges are branch components, and the vertical edges
are leaf components. Among these, M is the main node, for example a heat
plant where an array of pumps enforces a pre-defined pressure lift.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_branch_pump">
<span class="sig-name descname"><span class="pre">add_branch_pump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_branch_pump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_branch_pump" title="Link to this definition"></a></dt>
<dd><p>Adds a single edge of type “branch_pump” to the directed graph of the
network.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_branch_valve">
<span class="sig-name descname"><span class="pre">add_branch_valve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_branch_valve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_branch_valve" title="Link to this definition"></a></dt>
<dd><p>Adds a single edge of type “base_branch_valve” to the directed graph of
the network. For a description of the component see
<a class="reference internal" href="pydhn.components.base_branch_valve.html#pydhn.components.base_branch_valve.BranchValve" title="pydhn.components.base_branch_valve.BranchValve"><code class="xref py py-class docutils literal notranslate"><span class="pre">BranchValve</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>Hashable</em>) – The label for the edge.</p></li>
<li><p><strong>start_node</strong> (<em>Hashable</em>) – Starting node of the edge.</p></li>
<li><p><strong>end_node</strong> (<em>Hashable</em>) – Ending node of the edge.</p></li>
<li><p><strong>kv</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION.
For the default value see <a class="reference internal" href="pydhn.default_values.default_values.html#pydhn.default_values.default_values.KV" title="pydhn.default_values.default_values.KV"><code class="xref py py-const docutils literal notranslate"><span class="pre">KV</span></code></a>.</p></li>
<li><p><strong>**kwargs</strong> (<em>TYPE</em>) – DESCRIPTION.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_bypass_pipe">
<span class="sig-name descname"><span class="pre">add_bypass_pipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0372</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_insulation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.026</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insulation_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.031</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.045</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_internal_pipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">45.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_pipe_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0052</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_casing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">casing_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0054</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discretization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_bypass_pipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_bypass_pipe" title="Link to this definition"></a></dt>
<dd><p>Adds a single edge of type “bypass_pipe” to the directed graph of the
network.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_component">
<span class="sig-name descname"><span class="pre">add_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="pydhn.components.abstract_component.html#pydhn.components.abstract_component.Component" title="pydhn.components.abstract_component.Component"><span class="pre">Component</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_component"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_component" title="Link to this definition"></a></dt>
<dd><p>Adds a deepcopy of the input component to the network as an edge
between start_node and end_node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>Hashable</em>) – The label for the edge.</p></li>
<li><p><strong>start_node</strong> (<em>Hashable</em>) – Starting node of the edge.</p></li>
<li><p><strong>end_node</strong> (<em>Hashable</em>) – Ending node of the edge.</p></li>
<li><p><strong>component</strong> (<a class="reference internal" href="pydhn.components.abstract_component.html#pydhn.components.abstract_component.Component" title="pydhn.components.abstract_component.Component"><em>Component</em></a>) – The component to be added as an edge.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments to be passed to the edge addition
method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method does not return any value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn.components</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipe</span> <span class="o">=</span> <span class="n">Pipe</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s1">&#39;pipe_1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pipe</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)][</span><span class="s2">&quot;length&quot;</span><span class="p">]</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_consumer">
<span class="sig-name descname"><span class="pre">add_consumer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass_flow_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heat_demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">design_delta_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-30.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_secondary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_type_hx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'delta_t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_type_hx_rev</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'delta_t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_value_hx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-30.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_value_hx_rev</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power_max_hx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_out_min_hx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_type_hyd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mass_flow'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_value_hyd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'energy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3600.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_consumer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_consumer" title="Link to this definition"></a></dt>
<dd><p>Adds a single edge of type “base_consumer” to the directed graph of the
network. The base consumer is an ideal leaf component with imposed mass
flow rate, which can either be specified by the user with the parameter
setpoint_value_hyd when the control type is “mass_flow”, or computed
from the optional inputs heat_demand and design_delta_t when the
control type is “energy”. Imposing a setpoint pressure difference is
currently not supported.</p>
<p>For the thermal simulation, the base consumer has 3 different possible
setpoint types (setpoint_type_hx):</p>
<blockquote>
<div><ul class="simple">
<li><p>“t_out” imposes a specified outlet temperature (°C)</p></li>
<li><p>“delta_t” imposes a specified temperature difference (K)                between the ending and starting node of the edge of the                    component</p></li>
<li><p>“delta_q” imposes a specified energy loss or gain (Wh)</p></li>
</ul>
</div></blockquote>
<p>Regardless of the setpoint type chosen, the setpoint value is given by
setpoint_value_hx.</p>
<p>In case reverse flow is expected, the parameters setpoint_type_hx_rev
and setpoint_value_hx_rev should also be specified to control the
behaviour of the component in such cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>Hashable</em>) – The label for the edge.</p></li>
<li><p><strong>start_node</strong> (<em>Hashable</em>) – Starting node of the edge.</p></li>
<li><p><strong>end_node</strong> (<em>Hashable</em>) – Ending node of the edge.</p></li>
<li><p><strong>diameter</strong> (<em>float</em><em>, </em><em>optional</em>) – Internal diameter of the heat exchanger (m). This parameter is not
currently used, as singular pressure losses are not implemented.
The default is 0.02.</p></li>
<li><p><strong>mass_flow_min</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum mass flow allowed through the consumer (kg/s). Setting this
parameter enforces a minimum mass flow even if the heat demand is
0. The default is 1e-06.</p></li>
<li><p><strong>heat_demand</strong> (<em>float</em><em>, </em><em>optional</em>) – Heat demand of the consumer (Wh), only used to compute the imposed
mass flow when the control type is set to “energy”. A positive heat
demand means that the consumer wants energy from the network. This
parameter does not control the actual amount of energy exchanged.
The default is 5000.0.</p></li>
<li><p><strong>design_delta_t</strong> (<em>float</em><em>, </em><em>optional</em>) – Expected temperature difference through the heat exchanger of the
consumer (K), only used to compute the imposed mass flow when the
control type is set to “energy”. A positive temperature difference
means that the consumer is expected to reduce the inlet temperature
by that value. This parameter does not control the actual
temperature difference during the thermal simulation. The default
is -30.0.</p></li>
<li><p><strong>t_secondary</strong> (<em>float</em><em>, </em><em>optional</em>) – Temperature of the secondary system (°C). This parameter is not
currently used. The default is 0.0.</p></li>
<li><p><strong>setpoint_type_hx</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of setpoint for the thermal simulation in case of forward
flow. Possible values are “t_out”, “delta_t” and “delta_q”. The
default is delta_t.</p></li>
<li><p><strong>setpoint_type_hx_rev</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of setpoint for the thermal simulation in case of reverse
flow. Possible values are “t_out”, “delta_t” and “delta_q”. The
default is delta_t.</p></li>
<li><p><strong>setpoint_value_hx</strong> (<em>float</em><em>, </em><em>optional</em>) – Setpoint value of the chosen setpoint type for the thermal
simulation in case of forward flow. The default is -30.0.</p></li>
<li><p><strong>setpoint_value_hx_rev</strong> (<em>float</em><em>, </em><em>optional</em>) – Setpoint value of the chosen setpoint type for the thermal
simulation in case of reverse flow. The default is 0.0.</p></li>
<li><p><strong>power_max_hx</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum power of the heat exchanger (W). If set, it limits the heat
exchange enforced by the defined setpoints, which are not anymore
guaranteed to be reached. The default is nan.</p></li>
<li><p><strong>t_out_min_hx</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum outlet temperature (°C). If set, it limits the outlet
temperature resulting from the simulation with the defined
setpoints, which are not anymore guaranteed to be reached. The
default is nan.</p></li>
<li><p><strong>setpoint_type_hyd</strong> (<em>str</em><em>, </em><em>optional</em>) – Hydraulic setpoint type. Currently, the only supported option is
“mass_flow”. The default is mass_flow.</p></li>
<li><p><strong>setpoint_value_hyd</strong> (<em>float</em><em>, </em><em>optional</em>) – Setpoint value of the chosen setpoint type for the hydraulic
simulation. Currently, the only supported hydraulic setpoint type
is mass flow (kg/s). The default is 1e-06.</p></li>
<li><p><strong>control_type</strong> (<em>str</em><em>, </em><em>optional</em>) – How to compute the imposed mass flow. It can be either “mass_flow”,
to impose the value of setpoint_value_hyd, or “energy”, to compute
the mass flow from the expected energy_demand and design_delta_t.
The default is energy.</p></li>
<li><p><strong>stepsize</strong> (<em>float</em><em>, </em><em>optional</em>) – Size of the time step in seconds. For steady-state simulations, use
3600. The default is 3600.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method does not return any value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_consumer</span><span class="p">(</span><span class="s1">&#39;cons_1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">control_type</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)][</span><span class="s2">&quot;control_type&quot;</span><span class="p">]</span>
<span class="go">&#39;energy&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_lagrangian_pipe">
<span class="sig-name descname"><span class="pre">add_lagrangian_pipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0204</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.026</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insulation_thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.034</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.045</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_internal_pipe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">45.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_pipe_thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.023</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_casing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">casing_thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.003</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho_wall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">940.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cp_wall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_ext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3600.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_lagrangian_pipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_lagrangian_pipe" title="Link to this definition"></a></dt>
<dd><p>Adds a component of type “lagrangian_pipe” to the directed graph of the
network as an edge between start_node and end_node.
The “lagrangian_pipe” branch component is a dynamic pipe type based on
the Lagrangian approach. It takes into account the heat capacity of the
fluid and internal pipe walls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>Hashable</em>) – The label for the edge.</p></li>
<li><p><strong>start_node</strong> (<em>Hashable</em>) – Starting node of the edge.</p></li>
<li><p><strong>end_node</strong> (<em>Hashable</em>) – Ending node of the edge.</p></li>
<li><p><strong>diameter</strong> (<em>float</em><em>, </em><em>optional</em>) – Internal diameter of the pipe (m). The default is 0.0204.</p></li>
<li><p><strong>depth</strong> (<em>float</em><em>, </em><em>optional</em>) – Burying depth of the pipe (m). The default is 1.0.</p></li>
<li><p><strong>k_insulation</strong> (<em>float</em><em>, </em><em>optional</em>) – Thermal conductivity of insulation (W/(m·K)). The default is 0.026.</p></li>
<li><p><strong>insulation_thickness</strong> (<em>float</em><em>, </em><em>optional</em>) – Thickness of the insulation layer (m). The default is 0.034.</p></li>
<li><p><strong>length</strong> (<em>float</em><em>, </em><em>optional</em>) – Length of the pipe (m). The default is 1.0.</p></li>
<li><p><strong>roughness</strong> (<em>float</em><em>, </em><em>optional</em>) – Roughness of the internal pipe surface (mm). The default is 0.045.</p></li>
<li><p><strong>k_internal_pipe</strong> (<em>float</em><em>, </em><em>optional</em>) – Thermal conductivity of the pipe (W/(m·K)). The default is 45.0.</p></li>
<li><p><strong>internal_pipe_thickness</strong> (<em>float</em><em>, </em><em>optional</em>) – Thickness of the pipe (m). The default is 0.023.</p></li>
<li><p><strong>k_casing</strong> (<em>float</em><em>, </em><em>optional</em>) – Thermal conductivity of the casing (W/(m·K)). The default is
0.4.</p></li>
<li><p><strong>casing_thickness</strong> (<em>float</em><em>, </em><em>optional</em>) – Thickness of the casing (m). The default is 0.003.</p></li>
<li><p><strong>rho_wall</strong> (<em>float</em><em>, </em><em>optional</em>) – Density of internal pipe (kg/m³). The default is 940.0.</p></li>
<li><p><strong>cp_wall</strong> (<em>float</em><em>, </em><em>optional</em>) – Specific heat capacity of pipe wall (J/(kg·K)). The default is
2000.0.</p></li>
<li><p><strong>stepsize</strong> (<em>float</em><em>, </em><em>optional</em>) – Size of a time-step (s). The default is 3600.0.</p></li>
<li><p><strong>h_ext</strong> (<em>float</em><em>, </em><em>optional</em>) – External heat transfer coefficient (W/(m²·K)). The default is 0.0.</p></li>
<li><p><strong>line</strong> (<em>str</em><em>, </em><em>optional</em>) – Either “supply” or “return”. The default is None.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method does not return any value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_lagrangian_pipe</span><span class="p">(</span><span class="s1">&#39;pipe_1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">stepsize</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)][</span><span class="s2">&quot;stepsize&quot;</span><span class="p">]</span>
<span class="go">60</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_pipe">
<span class="sig-name descname"><span class="pre">add_pipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0204</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.026</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insulation_thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.034</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.045</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_internal_pipe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">45.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_pipe_thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.023</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_casing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">casing_thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.003</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discretization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_pipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_pipe" title="Link to this definition"></a></dt>
<dd><p>Adds a branch component of type “base_pipe” to the directed graph of
the network as an edge between start_node and end_node. The “base_pipe”
is a steady-state pipe type where volumes of water can be discretized
for more accurate results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>Hashable</em>) – The label for the edge.</p></li>
<li><p><strong>start_node</strong> (<em>Hashable</em>) – Starting node of the edge.</p></li>
<li><p><strong>end_node</strong> (<em>Hashable</em>) – Ending node of the edge.</p></li>
<li><p><strong>diameter</strong> (<em>float</em><em>, </em><em>optional</em>) – Internal diameter of the pipe (m). The default is 0.0204.</p></li>
<li><p><strong>depth</strong> (<em>float</em><em>, </em><em>optional</em>) – Burying depth of the pipe (m). The default is 1.0.</p></li>
<li><p><strong>k_insulation</strong> (<em>float</em><em>, </em><em>optional</em>) – Thermal conductivity of insulation (W/(m·K)). The default is 0.026.</p></li>
<li><p><strong>insulation_thickness</strong> (<em>float</em><em>, </em><em>optional</em>) – Thickness of the insulation layer (m). The default is 0.034.</p></li>
<li><p><strong>length</strong> (<em>float</em><em>, </em><em>optional</em>) – Length of the pipe (m). The default is 1.0.</p></li>
<li><p><strong>roughness</strong> (<em>float</em><em>, </em><em>optional</em>) – Roughness of the internal pipe surface (mm). The default is 0.045.</p></li>
<li><p><strong>k_internal_pipe</strong> (<em>float</em><em>, </em><em>optional</em>) – Thermal conductivity of the pipe (W/(m·K)). The default is 45.0.</p></li>
<li><p><strong>internal_pipe_thickness</strong> (<em>float</em><em>, </em><em>optional</em>) – Thickness of the pipe (m). The default is 0.023.</p></li>
<li><p><strong>k_casing</strong> (<em>float</em><em>, </em><em>optional</em>) – Thermal conductivity of the casing (W/(m·K)). The default is
0.4.</p></li>
<li><p><strong>casing_thickness</strong> (<em>float</em><em>, </em><em>optional</em>) – Thickness of the casing (m). The default is 0.003.</p></li>
<li><p><strong>discretization</strong> (<em>float</em><em>, </em><em>optional</em>) – Length of segments for discretizing the pipe (m). The default is
10.</p></li>
<li><p><strong>line</strong> (<em>str</em><em>, </em><em>optional</em>) – Either “supply” or “return”. The default is None.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method does not return any value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_pipe</span><span class="p">(</span><span class="s1">&#39;pipe_1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)][</span><span class="s2">&quot;length&quot;</span><span class="p">]</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.add_producer">
<span class="sig-name descname"><span class="pre">add_producer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static_pressure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_type_hx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'t_out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_type_hx_rev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'delta_t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_value_hx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">80.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_value_hx_rev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power_max_hx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_out_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_type_hyd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pressure'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setpoint_value_hyd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.add_producer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.add_producer" title="Link to this definition"></a></dt>
<dd><p>Adds a single edge of type “base_producer” to the directed graph of the
network. The base producer is an ideal leaf component with imposed
pressure difference (for the main producer) or mass flow rate (for
secondary producers).</p>
<p>For the thermal simulation, the base producer has 3 different possible
setpoint types (setpoint_type_hx):</p>
<blockquote>
<div><ul class="simple">
<li><p>“t_out” imposes a specified outlet temperature (°C)</p></li>
<li><dl class="simple">
<dt>“delta_t” imposes a specified temperature difference (K) between</dt><dd><p>the ending and starting node of the edge of the component</p>
</dd>
</dl>
</li>
<li><p>“delta_q” imposes a specified energy loss or gain (Wh)</p></li>
</ul>
</div></blockquote>
<p>Regardless of the setpoint type chosen, the setpoint value is given by
setpoint_value_hx.</p>
<p>In case reverse flow is expected, the parameters setpoint_type_hx_rev
and setpoint_value_hx_rev should also be specified to control the
behaviour of the component in such cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>Hashable</em>) – The label for the edge.</p></li>
<li><p><strong>start_node</strong> (<em>Hashable</em>) – Starting node of the edge.</p></li>
<li><p><strong>end_node</strong> (<em>Hashable</em>) – Ending node of the edge.</p></li>
<li><p><strong>static_pressure</strong> (<em>float</em><em>, </em><em>optional</em>) – The end node of the producer can be used as slack node to impose
a pressure value in one node of the network. The pressure in all
other nodes will be then computed from the pressure differences in
edges resulting from the hydraulic simulation. The default is nan.</p></li>
<li><p><strong>setpoint_type_hx</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of setpoint for the thermal simulation in case of forward
flow. Possible values are “t_out”, “delta_t” and “delta_q”. The
default is t_out.</p></li>
<li><p><strong>setpoint_type_hx_rev</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of setpoint for the thermal simulation in case of reverse
flow. Possible values are “t_out”, “delta_t” and “delta_q”. The
default is delta_t.</p></li>
<li><p><strong>setpoint_value_hx</strong> (<em>float</em><em>, </em><em>optional</em>) – Setpoint value of the chosen setpoint type for the thermal
simulation in case of forward flow. The default is 80.0.</p></li>
<li><p><strong>setpoint_value_hx_rev</strong> (<em>float</em><em>, </em><em>optional</em>) – Setpoint value of the chosen setpoint type for the thermal
simulation in case of reverse flow. The default is 0.0.</p></li>
<li><p><strong>power_max_hx</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum power of the heat exchanger (W). If set, it limits the heat
exchange enforced by the defined setpoints, which are not anymore
guaranteed to be reached. The default is nan.</p></li>
<li><p><strong>t_out_min</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum outlet temperature (°C). If set, it limits the outlet
temperature resulting from the simulation with the defined
setpoints, which are not anymore guaranteed to be reached. The
default is nan.</p></li>
<li><p><strong>setpoint_type_hyd</strong> (<em>str</em><em>, </em><em>optional</em>) – Hydraulic setpoint type, either “pressure” for imposing a pressure
difference (Pa) or “mass_flow” to impose a certain mass flow rate
(kg/s). Currently, one (main) producer needs to have a setpoint of
type “pressure”, while all the others should have a “mass_flow”
setpoint. Having multiple producers with a “pressure” setpoint also
works, but the simulation might not converge in complex cases. The
default is pressure.</p></li>
<li><p><strong>setpoint_value_hyd</strong> (<em>float</em><em>, </em><em>optional</em>) – Setpoint value of the chosen setpoint type for the hydraulic
simulation. The default is -1000000.0.</p></li>
<li><p><strong>stepsize</strong> (<em>float</em><em>, </em><em>optional</em>) – Size of the time step in seconds. For steady-state simulations, use
3600. The default is 3600.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method does not return any value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_producer</span><span class="p">(</span><span class="s1">&#39;cons_1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">setpoint_type_hx</span><span class="o">=</span><span class="s1">&#39;t_out&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)][</span><span class="s2">&quot;setpoint_type_hx&quot;</span><span class="p">]</span>
<span class="go">&#39;t_out&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.branch_components_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">branch_components_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.branch_components_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the edges that are eiter in
the supply or return line (branch components).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.branch_components_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">branch_components_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.branch_components_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the branch components.
The mask is based on the order of edges in the Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.consumers_cycle_matrix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">consumers_cycle_matrix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.consumers_cycle_matrix" title="Link to this definition"></a></dt>
<dd><p>Returns the edge-loop incidence matrix, or cycle matrix, of the network
containing loops from the producer to each consumer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.consumers_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">consumers_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.consumers_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the base consumers.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.consumers_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">consumers_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.consumers_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the consumers. The mask is
based on the order of edges in the Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.cycle_matrix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cycle_matrix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.cycle_matrix" title="Link to this definition"></a></dt>
<dd><p>Returns the cycle matrix of the network graph computed using a custom
cycle basis. The matrix is computed from the undirected network graph
and each entry is 1 if the jth edge is in the ith cycle and their
directions match, -1 if their directions oppose, and 0 otherwise.</p>
<p>edges cin a cycle
with opposite direction are given an entry of -1 in the matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The cycle matrix of the network graph as 2D Numpy array of
integers.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pydhn</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;Node 0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;Node 1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;Node 2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;Node 3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_producer</span><span class="p">(</span><span class="s2">&quot;Prod 0-1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 0&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_pipe</span><span class="p">(</span><span class="s2">&quot;Pipe 1-2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 2&quot;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s2">&quot;supply&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_consumer</span><span class="p">(</span><span class="s2">&quot;Cons 2-3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">add_pipe</span><span class="p">(</span><span class="s2">&quot;Pipe 3-0&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 3&quot;</span><span class="p">,</span> <span class="s2">&quot;Node 0&quot;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s2">&quot;return&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span><span class="o">.</span><span class="n">cycle_matrix</span>
<span class="go">array([[1., 1., 1., 1.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.ideal_components_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ideal_components_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.ideal_components_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the ideal components.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.imposed_mdot_matrix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">imposed_mdot_matrix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.imposed_mdot_matrix" title="Link to this definition"></a></dt>
<dd><p>Returns the edge-loop incidence matrix, or cycle matrix, of the network
containing only loops from the edges with a mass flow setpoint to the
main producer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.imposed_pumps_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">imposed_pumps_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.imposed_pumps_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the pumps with imposed rpm.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.imposed_valves_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">imposed_valves_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.imposed_valves_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the valves with imposed kv.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.leaf_components_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">leaf_components_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.leaf_components_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the edges that are between
the supply and return line (leaf components).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.leaf_components_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">leaf_components_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.leaf_components_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the leaf compoents. The
mask is based on the order of edges in the Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.main_edge_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">main_edge_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.main_edge_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the index of the main edge.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equality'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the edges for which attr is
equal to value</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.mass_flow_setpoints_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mass_flow_setpoints_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.mass_flow_setpoints_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the ideal components with a
mass flow setpoint.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.mass_flow_setpoints_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mass_flow_setpoints_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.mass_flow_setpoints_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the ideal components with
a mass flow setpoint. The mask is based on the order of edges in the
Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.n_consumers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_consumers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#pydhn.classes.network.Network.n_consumers" title="Link to this definition"></a></dt>
<dd><p>Returns the number of consumers in the network.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.n_pipes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_pipes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#pydhn.classes.network.Network.n_pipes" title="Link to this definition"></a></dt>
<dd><p>Returns the number of pipes in the network.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.n_producers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_producers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#pydhn.classes.network.Network.n_producers" title="Link to this definition"></a></dt>
<dd><p>Returns the number of producers in the network.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.pipes_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pipes_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.pipes_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the base pipes.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.pipes_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pipes_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.pipes_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the pipes. The mask is
based on the order of edges in the Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.pressure_setpoints_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pressure_setpoints_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.pressure_setpoints_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the ideal components with a
pressure setpoint.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.pressure_setpoints_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pressure_setpoints_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.pressure_setpoints_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the ideal components with
a pressure setpoint. The mask is based on the order of edges in the
Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.producers_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">producers_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.producers_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the base producers.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.producers_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">producers_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.producers_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the producers. The mask is
based on the order of edges in the Networkx graph.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.pumps_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pumps_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.pumps_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the producers.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.real_components_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">real_components_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.real_components_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the real components.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.return_line_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_line_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.return_line_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the edges in the return line.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.return_line_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_line_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.return_line_pointer" title="Link to this definition"></a></dt>
<dd><p>eturns a view of the network graph with only the components in the
return line. The mask is based on the order of edges in the Networkx
graph. If the line attribute is missing from at least one branch
component, the lines are recomputed and assigned automatically.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.run_sanity_checks">
<span class="sig-name descname"><span class="pre">run_sanity_checks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_isomorphism</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.run_sanity_checks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.run_sanity_checks" title="Link to this definition"></a></dt>
<dd><p>Runs sanity checks on the Network against common mistakes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>verbose</strong> (<em>Bool</em><em>, </em><em>optional</em>) – Defines the level of verbosity. The default is 1.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>errors</strong> – Dictionary with the results of the sanity check. A True value means
that an error was found during that test.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.secondary_producers_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">secondary_producers_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.secondary_producers_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the secondary producers.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.supply_line_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supply_line_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.supply_line_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the edges in the supply line.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.supply_line_pointer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supply_line_pointer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DiGraph</span></em><a class="headerlink" href="#pydhn.classes.network.Network.supply_line_pointer" title="Link to this definition"></a></dt>
<dd><p>Returns a view of the network graph with only the components in the
supply line. The mask is based on the order of edges in the Networkx
graph. If the line attribute is missing from at least one branch
component, the lines are recomputed and assigned automatically.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.to_citysim_xml">
<span class="sig-name descname"><span class="pre">to_citysim_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">climatefile_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand_dataframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">365</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydhn/classes/network.html#Network.to_citysim_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydhn.classes.network.Network.to_citysim_xml" title="Link to this definition"></a></dt>
<dd><p>Convert and save the Network object to a CitySim XML file. The
buildings in the file are modelled as single walls and won’t be
simulated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydhn.classes.network.Network.valves_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valves_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#pydhn.classes.network.Network.valves_mask" title="Link to this definition"></a></dt>
<dd><p>Returns an array with the indices of all the consumers.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pydhn.classes.abstract_network.html" class="btn btn-neutral float-left" title="abstract_network" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pydhn.classes.results.html" class="btn btn-neutral float-right" title="results" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Idiap Research Institute, https://www.idiap.ch, EPFL, https://www.epfl.ch.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>